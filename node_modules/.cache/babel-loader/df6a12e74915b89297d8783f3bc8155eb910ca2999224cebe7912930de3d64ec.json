{"ast":null,"code":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { debounce } from '../../lib/helpers';\nexport class Trigger extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.trigger = /*#__PURE__*/React.createRef();\n    this.resize = debounce(() => this.props.resize(this.boundingRect), 250);\n  }\n  get boundingRect() {\n    if (!this.trigger.current) {\n      throw new Error('Trigger does not have reference to itself');\n    }\n    const {\n      width,\n      height,\n      top,\n      left\n    } = ReactDOM.findDOMNode(this.trigger.current).getBoundingClientRect();\n    return {\n      width,\n      height,\n      top,\n      left\n    };\n  }\n  componentDidMount() {\n    this.resize();\n    window.addEventListener('scroll', this.resize);\n    window.addEventListener('resize', this.resize);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.resize);\n    window.removeEventListener('resize', this.resize);\n  }\n  componentDidUpdate() {\n    this.resize();\n  }\n  render() {\n    const {\n      resize,\n      children,\n      ...props\n    } = this.props;\n    return /*#__PURE__*/React.cloneElement(children, {\n      ...props,\n      ref: this.trigger\n    });\n  }\n}","map":{"version":3,"names":["React","ReactDOM","debounce","Trigger","PureComponent","constructor","args","trigger","createRef","resize","props","boundingRect","current","Error","width","height","top","left","findDOMNode","getBoundingClientRect","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","componentDidUpdate","render","children","cloneElement","ref"],"sources":["E:/1/curswork/curswork/src/components/Tooltip/Trigger.tsx"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { debounce } from '../../lib/helpers'\n\ninterface Props {\n  resize?: (rect: { left: number, top: number, width: number, height: number }) => void\n  children: React.ReactElement\n}\n\nexport class Trigger extends React.PureComponent<Props> {\n  trigger = React.createRef<HTMLElement>()\n\n  get boundingRect() {\n    if (!this.trigger.current) {\n      throw new Error('Trigger does not have reference to itself')\n    }\n    const { width, height, top, left } = (ReactDOM.findDOMNode(this.trigger.current) as HTMLElement).getBoundingClientRect()\n    return { width, height, top, left }\n  }\n\n  resize = debounce(() => this.props.resize(this.boundingRect), 250)\n\n  componentDidMount() {\n    this.resize()\n    window.addEventListener('scroll', this.resize)\n    window.addEventListener('resize', this.resize)\n  }\n\n  componentWillUnmount(){\n    window.removeEventListener('scroll', this.resize)\n    window.removeEventListener('resize', this.resize)\n  }\n\n  componentDidUpdate() {\n    this.resize()\n  }\n\n  render() {\n    const { resize, children, ...props } = this.props\n    return React.cloneElement(children, {\n      ...props,\n      ref: this.trigger\n    })\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,WAAW;AAChC,SAASC,QAAQ,QAAQ,mBAAmB;AAO5C,OAAO,MAAMC,OAAO,SAASH,KAAK,CAACI,aAAa,CAAQ;EAAAC,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KACtDC,OAAO,gBAAGP,KAAK,CAACQ,SAAS,CAAc,CAAC;IAAA,KAUxCC,MAAM,GAAGP,QAAQ,CAAC,MAAM,IAAI,CAACQ,KAAK,CAACD,MAAM,CAAC,IAAI,CAACE,YAAY,CAAC,EAAE,GAAG,CAAC;EAAA;EARlE,IAAIA,YAAYA,CAAA,EAAG;IACjB,IAAI,CAAC,IAAI,CAACJ,OAAO,CAACK,OAAO,EAAE;MACzB,MAAM,IAAIC,KAAK,CAAC,2CAA2C,CAAC;IAC9D;IACA,MAAM;MAAEC,KAAK;MAAEC,MAAM;MAAEC,GAAG;MAAEC;IAAK,CAAC,GAAIhB,QAAQ,CAACiB,WAAW,CAAC,IAAI,CAACX,OAAO,CAACK,OAAO,CAAC,CAAiBO,qBAAqB,CAAC,CAAC;IACxH,OAAO;MAAEL,KAAK;MAAEC,MAAM;MAAEC,GAAG;MAAEC;IAAK,CAAC;EACrC;EAIAG,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACX,MAAM,CAAC,CAAC;IACbY,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACb,MAAM,CAAC;IAC9CY,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACb,MAAM,CAAC;EAChD;EAEAc,oBAAoBA,CAAA,EAAE;IACpBF,MAAM,CAACG,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACf,MAAM,CAAC;IACjDY,MAAM,CAACG,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACf,MAAM,CAAC;EACnD;EAEAgB,kBAAkBA,CAAA,EAAG;IACnB,IAAI,CAAChB,MAAM,CAAC,CAAC;EACf;EAEAiB,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEjB,MAAM;MAAEkB,QAAQ;MAAE,GAAGjB;IAAM,CAAC,GAAG,IAAI,CAACA,KAAK;IACjD,oBAAOV,KAAK,CAAC4B,YAAY,CAACD,QAAQ,EAAE;MAClC,GAAGjB,KAAK;MACRmB,GAAG,EAAE,IAAI,CAACtB;IACZ,CAAC,CAAC;EACJ;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}