{"ast":null,"code":"var _jsxFileName = \"E:\\\\1\\\\curswork\\\\curswork\\\\src\\\\components\\\\Calculator.tsx\";\nimport './Calculator.scss';\nimport React from 'react';\nimport { Map } from 'immutable';\nimport TalentTree from './TalentTree';\nimport { calcAvailablePoints } from '../lib/tree';\nimport { classById } from '../data/classes';\nimport { connect } from 'react-redux';\nimport { addPoint, removePoint } from '../store/calculator/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EMPTY_TALENTS = Map();\nexport class Calculator extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      knownTalents: EMPTY_TALENTS\n    };\n    this.handleTalentPress = (specId, talentId, modifier) => {\n      if (modifier === 1) {\n        this.props.addPoint(talentId);\n      } else {\n        this.props.removePoint(talentId);\n      }\n    };\n  }\n  render() {\n    const {\n      classId\n    } = this.props;\n    const knownTalents = this.props.points;\n    const classData = classById[classId];\n    const availablePoints = calcAvailablePoints(knownTalents);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calculator\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trees\",\n        children: classData.specs.map(specId => /*#__PURE__*/_jsxDEV(TalentTree, {\n          specId: specId,\n          availablePoints: availablePoints,\n          knownTalents: knownTalents,\n          onTalentPress: this.handleTalentPress\n        }, specId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculator__points\",\n        children: [availablePoints < 51 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"subtle\",\n          children: [\"Required level: \", 60 - availablePoints]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Talent points: \", availablePoints]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n}\nCalculator.whyDidYouRender = true;\nexport default connect(null, {\n  addPoint,\n  removePoint\n})(Calculator);","map":{"version":3,"names":["React","Map","TalentTree","calcAvailablePoints","classById","connect","addPoint","removePoint","jsxDEV","_jsxDEV","EMPTY_TALENTS","Calculator","PureComponent","constructor","args","state","knownTalents","handleTalentPress","specId","talentId","modifier","props","render","classId","points","classData","availablePoints","className","children","specs","map","onTalentPress","fileName","_jsxFileName","lineNumber","columnNumber","whyDidYouRender"],"sources":["E:/1/curswork/curswork/src/components/Calculator.tsx"],"sourcesContent":["import './Calculator.scss'\nimport React from 'react'\nimport { Map } from 'immutable'\nimport TalentTree from './TalentTree'\nimport { calcAvailablePoints } from '../lib/tree'\nimport { classById } from '../data/classes'\nimport { connect } from 'react-redux';\nimport { addPoint, removePoint } from '../store/calculator/actions'\nimport { Points } from '../store/calculator/types'\n\ninterface Props {\n  classId: number\n  points: Points\n  addPoint: typeof addPoint\n  removePoint: typeof removePoint\n}\n\nconst EMPTY_TALENTS = Map<number, number>()\n\nexport class Calculator extends React.PureComponent<Props> {\n  static whyDidYouRender = true\n\n  state = {\n    knownTalents: EMPTY_TALENTS\n  }\n\n  handleTalentPress = (specId: number, talentId: number, modifier: 1 | -1) => {\n    if (modifier === 1) {\n      this.props.addPoint(talentId)\n    } else {\n      this.props.removePoint(talentId)\n    }\n  }\n\n  render() {\n    const { classId } = this.props\n    const knownTalents = this.props.points\n\n    const classData = classById[classId]\n    const availablePoints = calcAvailablePoints(knownTalents)\n\n    return (\n      <div className=\"calculator\">\n        <div className=\"trees\">\n          {classData.specs.map((specId) => (\n            <TalentTree\n              key={specId}\n              specId={specId}\n              availablePoints={availablePoints}\n              knownTalents={knownTalents}\n              onTalentPress={this.handleTalentPress}\n            />\n          ))}\n        </div>\n\n        <div className=\"calculator__points\">\n          {availablePoints < 51 && \n            <span className=\"subtle\">Required level: {60 - availablePoints}</span>\n          }\n          <span>Talent points: {availablePoints}</span>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  null,\n  {\n    addPoint,\n    removePoint\n  }\n)(Calculator)"],"mappings":";AAAA,OAAO,mBAAmB;AAC1B,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,WAAW;AAC/B,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,mBAAmB,QAAQ,aAAa;AACjD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,QAAQ,EAAEC,WAAW,QAAQ,6BAA6B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAUnE,MAAMC,aAAa,GAAGT,GAAG,CAAiB,CAAC;AAE3C,OAAO,MAAMU,UAAU,SAASX,KAAK,CAACY,aAAa,CAAQ;EAAAC,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAGzDC,KAAK,GAAG;MACNC,YAAY,EAAEN;IAChB,CAAC;IAAA,KAEDO,iBAAiB,GAAG,CAACC,MAAc,EAAEC,QAAgB,EAAEC,QAAgB,KAAK;MAC1E,IAAIA,QAAQ,KAAK,CAAC,EAAE;QAClB,IAAI,CAACC,KAAK,CAACf,QAAQ,CAACa,QAAQ,CAAC;MAC/B,CAAC,MAAM;QACL,IAAI,CAACE,KAAK,CAACd,WAAW,CAACY,QAAQ,CAAC;MAClC;IACF,CAAC;EAAA;EAEDG,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAACF,KAAK;IAC9B,MAAML,YAAY,GAAG,IAAI,CAACK,KAAK,CAACG,MAAM;IAEtC,MAAMC,SAAS,GAAGrB,SAAS,CAACmB,OAAO,CAAC;IACpC,MAAMG,eAAe,GAAGvB,mBAAmB,CAACa,YAAY,CAAC;IAEzD,oBACEP,OAAA;MAAKkB,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzBnB,OAAA;QAAKkB,SAAS,EAAC,OAAO;QAAAC,QAAA,EACnBH,SAAS,CAACI,KAAK,CAACC,GAAG,CAAEZ,MAAM,iBAC1BT,OAAA,CAACP,UAAU;UAETgB,MAAM,EAAEA,MAAO;UACfQ,eAAe,EAAEA,eAAgB;UACjCV,YAAY,EAAEA,YAAa;UAC3Be,aAAa,EAAE,IAAI,CAACd;QAAkB,GAJjCC,MAAM;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAKZ,CACF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEN1B,OAAA;QAAKkB,SAAS,EAAC,oBAAoB;QAAAC,QAAA,GAChCF,eAAe,GAAG,EAAE,iBACnBjB,OAAA;UAAMkB,SAAS,EAAC,QAAQ;UAAAC,QAAA,GAAC,kBAAgB,EAAC,EAAE,GAAGF,eAAe;QAAA;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAExE1B,OAAA;UAAAmB,QAAA,GAAM,iBAAe,EAACF,eAAe;QAAA;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;AACF;AA7CaxB,UAAU,CACdyB,eAAe,GAAG,IAAI;AA8C/B,eAAe/B,OAAO,CACpB,IAAI,EACJ;EACEC,QAAQ;EACRC;AACF,CACF,CAAC,CAACI,UAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}